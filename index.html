<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SongMarty</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <div class="header">
            <div class="logo">SongMarty</div>
            <button class="header-btn" id="searchBtn">Search</button>
        </div>

        <div class="screens-container">
            <div class="screen">
                <div class="track-list" id="trackList">
                    <!-- Треки будут здесь -->
                </div>
            </div>
        </div>

        <div class="player-screen" id="playerScreen">
            <div class="player-cover" id="playerCover"></div>
            <div class="player-info">
                <div class="player-title" id="playerTitle"></div>
                <div class="player-artist" id="playerArtist"></div>
            </div>
            <div class="player-controls">
                <button class="player-btn play-btn" id="playBtn">▶</button>
            </div>
            <button class="close-player" onclick="closePlayer()">✕</button>
        </div>
    </div>

    <script>
        const tg = Telegram.WebApp;
        tg.expand();
        let audioPlayer = new Audio();

        // Пример треков (замените на свои)
        const tracks = [
            {
                id: 1,
                name: "Golden Hour",
                artist: "JVKE",
                cover: "https://i.scdn.co/image/ab67616d00001e02ff9ca10b55ce82ae553c8228",
                audio: "https://example.com/audio1.mp3"
            }
        ];

        // Загрузка треков
        function loadTracks() {
            const container = document.getElementById('trackList');
            tracks.forEach(track => {
                const trackElement = document.createElement('div');
                trackElement.className = 'track-item';
                trackElement.innerHTML = `
                    <div class="track-cover" style="background-image: url('${track.cover}')"></div>
                    <div class="track-info">
                        <div class="track-name">${track.name}</div>
                        <div class="track-artist">${track.artist}</div>
                    </div>
                `;
                trackElement.onclick = () => playTrack(track);
                container.appendChild(trackElement);
            });
        }

        // Воспроизведение
        function playTrack(track) {
            document.getElementById('playerTitle').textContent = track.name;
            document.getElementById('playerArtist').textContent = track.artist;
            document.getElementById('playerCover').style.backgroundImage = `url('${track.cover}')`;
            
            audioPlayer.src = track.audio;
            audioPlayer.play();
            document.getElementById('playBtn').textContent = '⏸';
            document.getElementById('playerScreen').classList.add('active');
        }

        // Управление плеером
        document.getElementById('playBtn').addEventListener('click', function() {
            if (audioPlayer.paused) {
                audioPlayer.play();
                this.textContent = '⏸';
            } else {
                audioPlayer.pause();
                this.textContent = '▶';
            }
        });

        function closePlayer() {
            audioPlayer.pause();
            document.getElementById('playerScreen').classList.remove('active');
        }

        // Инициализация
        tg.ready();
        loadTracks();
    </script>
</body>
</html>
